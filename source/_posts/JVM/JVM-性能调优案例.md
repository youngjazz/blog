---
title: JVM-性能调优
date: 2018-10-15 00:28:12
tags: JVM
categories: 技术
---

案例一：教师考核系统，论文，研究。。。
2核，64G

经常程序出现卡顿，处理思路：
~~- 优化sql~~

- 监控CPU
- 监控内存
    - Full GC时长

如果经常生成大对象，FullGC频繁发生，可以考虑减小堆内存然后多台部署


案例二：
简单爬虫应用
环境：2G，jdk7
问题：不定期出现内存溢出，把堆内存加大，也无济于事。导出堆栈存储快照信息，没有任何信息。内存监控，正常。
过程：换到8G机器，问题解决。
处理思路：既然一切正常，猜测是不是堆外内存导致。果然，爬虫使用了大量的NIO，我们知道NIO会使用对外内存，所以加大物理内存即可。


案例三：
- 物联网应用
- CentOS 6，JDK7，16G，8核

问题: JVM经常崩溃，Connect Reset

原因：海量client生产数据快，server消费数据慢，处理能力不对等
增加缓冲队列，如kafka

大神的博客：
https://juejin.im/entry/5bd45f545188252928653898?utm_source=gold_browser_extension